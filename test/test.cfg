process BTagDemo =  {
  #keep the logging output to a nice level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource {
   untracked vstring fileNames = {
'file:/home/bilibao/CMSSW/CMSSW_2007-05-14/src/Configuration/ReleaseValidation/data/ttbar.root'
 }
  }
     # Magnetic Field
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
include "Configuration/StandardSequences/data/Reconstruction.cff"
include "Configuration/StandardSequences/data/Simulation.cff"
include "Configuration/StandardSequences/data/MixingNoPileUp.cff"

include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"

    include "TrackingTools/TransientTrack/data/TransientTrackBuilder.cfi"
   include "RecoBTag/ImpactParameter/data/impactParameter.cff"
   include "RecoBTag/TrackCounting/data/trackCounting.cff"
   include "RecoBTag/TrackProbability/data/trackProbability.cff"

    module out = PoolOutputModule {
        untracked string fileName = 'btag.root'
    }

  module ipAnalyzer = IPAnalyzer {
        InputTag jets        = iterativeCone5CaloJets
        InputTag association = jetTracksAssociator
        InputTag ipassociation = impactParameterTagInfos
    }


 
  path p = {offlinePrimaryVerticesFromCTFTracks,jetTracksAssociator,impactParameterTagInfos,trackCountingTagInfos,ipAnalyzer,trackProbabilityTagInfos}

  endpath outpath = { out }

}
