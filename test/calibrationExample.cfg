process calibJob =  {
  #keep the logging output to a nice level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource {
   untracked vstring fileNames = {
'file:./btag.root'
 }
  }

  module out = PoolOutputModule {
                untracked string fileName = 'file:calib.root'
                untracked vstring outputCommands = {
                        "drop *",
                        "keep *_ic5JetTracksAssociatorAtVertex_*_*",
                        "keep *_iterativeCone5CaloJets_*_*",
                        "keep *_impactParameterTagInfos_*_*",
                  #      "keep recoTrackExtras_*_*_*",
                        "keep recoTracks_*_*_*",
                        "keep recoVertexs_*_*_*",
                        "keep *_*_*_calibJob"
                }
        }
    es_module negativeTrackCounting3D2nd = NegativeTrackCountingESProducer {
        int32 nthTrack = 2
        int32 impactParamterType = 0
    }

      module negativeTrackCounting =  JetTagProducerImpactParameter
    {
      InputTag tagInfo = impactParameterTagInfos
      string jetTagComputer = "negativeTrackCounting3D2nd"
     }


include "RecoBTau/JetTagProducer/data/jetTagRecord.cfi"


  path p = {negativeTrackCounting}

  endpath outpath = { out }

}
